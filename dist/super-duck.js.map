{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 80a4abde8d6650265e59","webpack:///./createDuck.js","webpack:///./extendDuck.js","webpack:///./utils.js","webpack:///./getDuckReducers.js","webpack:///./index.js","webpack:///./createCombinedDuck.js","webpack:///external \"redux\""],"names":["createDeepSelector","path","selectors","splitPath","reverse","map","state","key","compose","createDuck","options","Error","last","rootSelector","extendDuck","types","actions","operations","initialState","undefined","reducer","identity","camelCaseRegExp","normalizeTypeName","type","trim","replace","toUpperCase","buildType","joinPath","buildTypesMap","zip","getExtendedObject","proto","props","Object","assign","create","requiredProps","parent","extension","forEach","prop","isObject","duck","super","getExtensionValue","fallback","value","isFunction","Array","isArray","has","createReducer","action","pathDelimiter","array","length","obj","prototype","hasOwnProperty","call","func","keys","values","reduce","result","index","args","filter","join","split","slice","begin","end","selector","getDuckReducers","ducks","reducers","createCombinedDuck","combineReducers"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;AACA;;AAEA;AACA,IAAMA,qBAAqB,SAArBA,kBAAqB,CAACC,IAAD,EAAU;AACpC,KAAMC,YAAY,iEAAAC,CAAUF,IAAV,EAAgBG,OAAhB,GAA0BC,GAA1B,CAA8B;AAAA,SAAO;AAAA,UAASC,MAAMC,GAAN,CAAT;AAAA,GAAP;AAAA,EAA9B,CAAlB;AACA,QAAO,+DAAAC,CAAQN,SAAR,CAAP;AACA,CAHD;;AAKA,IAAMO,aAAa,SAAbA,UAAa,GAAkB;AAAA,KAAjBC,OAAiB,uEAAP,EAAO;AAAA,KAC5BT,IAD4B,GACnBS,OADmB,CAC5BT,IAD4B;;;AAGpC,KAAI,CAACA,IAAL,EAAW;AACV,QAAM,IAAIU,KAAJ,CAAU,2BAAV,CAAN;AACA;;AALmC,oBAUhCD,OAVgC,CAQnCH,GARmC;AAAA,KAQnCA,GARmC,gCAQ7B,4DAAAK,CAAK,iEAAAT,CAAUF,IAAV,CAAL,CAR6B;AAAA,6BAUhCS,OAVgC,CASnCG,YATmC;AAAA,KASnCA,YATmC,yCASpBb,mBAAmBC,IAAnB,CAToB;;;AAYpC,QAAO,oEAAAa,CAAW;AACjBb,YADiB;AAEjBM,UAFiB;AAGjBM,4BAHiB;AAIjBE,SAAO,EAJU;AAKjBb,aAAW,EALM;AAMjBc,WAAS,EANQ;AAOjBC,cAAY,EAPK;AAQjBC,gBAAcC,SARG;AASjBC,WAAS,wDAAAC;AATQ,EAAX,EAUJX,OAVI,CAAP;AAWA,CAvBD;;AAyBA,yDAAeD,UAAf,E;;;;;;;;AClCA;;AAEA;AACA,IAAMa,kBAAkB,oBAAxB;AACA,IAAMC,oBAAoB,SAApBA,iBAAoB;AAAA,QACzBC,KAAKC,IAAL,GAAYC,OAAZ,CAAoBJ,eAApB,EAAqC,OAArC,EAA8CK,WAA9C,EADyB;AAAA,CAA1B;;AAGA;AACA,IAAMC,YAAY,SAAZA,SAAY,CAAC3B,IAAD,EAAOuB,IAAP;AAAA,QAAgB,gEAAAK,CAAS,CAAC5B,IAAD,EAAOsB,kBAAkBC,IAAlB,CAAP,CAAT,CAAhB;AAAA,CAAlB;;AAEA;AACA,IAAMM,gBAAgB,SAAhBA,aAAgB,CAAC7B,IAAD,EAAOc,KAAP;AAAA,QAAiB,2DAAAgB,CACtChB,KADsC,EAEtCA,MAAMV,GAAN,CAAU;AAAA,SAAQuB,UAAU3B,IAAV,EAAgBuB,IAAhB,CAAR;AAAA,EAAV,CAFsC,CAAjB;AAAA,CAAtB;;AAKA;AACA,IAAMQ,oBAAoB,SAApBA,iBAAoB,CAACC,KAAD,EAAQC,KAAR;AAAA,QAAkBC,OAAOC,MAAP,CAAcD,OAAOE,MAAP,CAAcJ,KAAd,CAAd,EAAoCC,KAApC,CAAlB;AAAA,CAA1B;;AAEA,IAAMI,gBAAgB,CAAC,MAAD,EAAS,KAAT,EAAgB,cAAhB,CAAtB;;AAEA,IAAMxB,aAAa,SAAbA,UAAa,GAAiC;AAAA,KAAhCyB,MAAgC,uEAAvB,EAAuB;AAAA,KAAnBC,SAAmB,uEAAP,EAAO;;AACnDF,eAAcG,OAAd,CAAsB,UAACC,IAAD,EAAU;AAC/B,MAAI,CAACH,OAAOG,IAAP,CAAL,EAAmB;AAClB,SAAM,IAAI/B,KAAJ,iCAAwC+B,IAAxC,gBAAN;AACA;AACD,EAJD;;AAMA,KAAI,CAAC,gEAAAC,CAASH,SAAT,CAAL,EAA0B;AACzB,QAAM,IAAI7B,KAAJ,CAAU,+BAAV,CAAN;AACA;;AAED;AACA;AACA,KAAMiC,OAAO;AACZC,SAAON,MADK;AAEZtC,QAAMsC,OAAOtC,IAFD;AAGZM,OAAKgC,OAAOhC,GAHA;AAIZM,gBAAc0B,OAAO1B;AAJT,EAAb;;AAOA,KAAMiC,oBAAoB,SAApBA,iBAAoB,CAACvC,GAAD,EAAMwC,QAAN,EAAmB;AAC5C,MAAMC,QAAQR,UAAUjC,GAAV,KAAkBwC,QAAhC;AACA,MAAI,kEAAAE,CAAWD,KAAX,CAAJ,EAAuB;AACtB,UAAOA,MAAMJ,IAAN,EAAYJ,SAAZ,CAAP;AACA;AACD,SAAOQ,KAAP;AACA,EAND;;AAQA;AACA;AACA,KAAIjC,QAAQ+B,kBAAkB,OAAlB,EAA2B,EAA3B,CAAZ;AACA,KAAII,MAAMC,OAAN,CAAcpC,KAAd,CAAJ,EAA0B;AACzBA,UAAQe,cAAcS,OAAOtC,IAArB,EAA2Bc,KAA3B,CAAR;AACA;AACD6B,MAAK7B,KAAL,GAAaiB,kBAAkBO,OAAOxB,KAAzB,EAAgCA,KAAhC,CAAb;;AAEA;AACA,KAAMb,YAAY4C,kBAAkB,WAAlB,EAA+B,EAA/B,CAAlB;AACAF,MAAK1C,SAAL,GAAiB8B,kBAAkBO,OAAOrC,SAAzB,EAAoCA,SAApC,CAAjB;;AAEA;AACA,KAAMc,UAAU8B,kBAAkB,SAAlB,EAA6B,EAA7B,CAAhB;AACAF,MAAK5B,OAAL,GAAegB,kBAAkBO,OAAOvB,OAAzB,EAAkCA,OAAlC,CAAf;;AAEA;AACA,KAAMC,aAAa6B,kBAAkB,YAAlB,EAAgC,EAAhC,CAAnB;AACAF,MAAK3B,UAAL,GAAkBe,kBAAkBO,OAAOtB,UAAzB,EAAqCA,UAArC,CAAlB;;AAEA;AACA,KAAI,2DAAAmC,CAAIZ,SAAJ,EAAe,cAAf,CAAJ,EAAoC;AACnCI,OAAK1B,YAAL,GAAoB4B,kBAAkB,cAAlB,CAApB;AACA,EAFD,MAEO;AACNF,OAAK1B,YAAL,GAAoBqB,OAAOrB,YAA3B;AACA;;AAED;AACA,KAAIE,gBAAJ;AACA,KAAI,2DAAAgC,CAAIZ,SAAJ,EAAe,SAAf,CAAJ,EAA+B;AAC9BpB,YAAUoB,UAAUpB,OAApB;AACA,EAFD,MAEO,IAAI,2DAAAgC,CAAIZ,SAAJ,EAAe,eAAf,CAAJ,EAAqC;AAC3CpB,YAAUoB,UAAUa,aAAV,CAAwBT,IAAxB,EAA8BJ,SAA9B,CAAV;AACA,EAFM,MAEA;AACNpB,YAAUmB,OAAOnB,OAAjB;AACA;AACDwB,MAAKxB,OAAL,GAAe;AAAA,MAACd,KAAD,uEAASsC,KAAK1B,YAAd;AAAA,MAA4BoC,MAA5B;AAAA,SAAuClC,QAAQd,KAAR,EAAegD,MAAf,CAAvC;AAAA,EAAf;;AAEA,QAAOV,IAAP;AACA,CAnED;;AAqEA,yDAAe9B,UAAf,E;;;;;;;;;;;;;;;;;;;AC1FA,IAAMyC,gBAAgB,GAAtB;;AAEA;AACO,IAAM3C,OAAO,SAAPA,IAAO;AAAA,QAAS4C,MAAMA,MAAMC,MAAN,GAAe,CAArB,CAAT;AAAA,CAAb;;AAEP;AACO,IAAMpC,WAAW,SAAXA,QAAW;AAAA,QAAS2B,KAAT;AAAA,CAAjB;;AAEP;AACO,IAAMI,MAAM,SAANA,GAAM,CAACM,GAAD,EAAMnD,GAAN;AAAA,QAAemD,OAAO,IAAP,IAAevB,OAAOwB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCH,GAArC,EAA0CnD,GAA1C,CAA9B;AAAA,CAAZ;;AAEP;AACO,IAAMoC,WAAW,SAAXA,QAAW;AAAA,QAAQe,QAAQ,IAAR,IAAgB,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAAvC;AAAA,CAAjB;AACA,IAAMT,aAAa,SAAbA,UAAa;AAAA,QAASa,SAAS,IAAT,IAAiB,OAAOA,IAAP,KAAgB,UAA1C;AAAA,CAAnB;;AAEP;AACO,IAAM/B,MAAM,SAANA,GAAM,CAACgC,IAAD,EAAOC,MAAP;AAAA,QAAkBA,OAAOC,MAAP,CAAc,UAACC,MAAD,EAASlB,KAAT,EAAgBmB,KAAhB,EAA0B;AAC5ED,SAAOH,KAAKI,KAAL,CAAP,IAAsBnB,KAAtB;AACA,SAAOkB,MAAP;AACA,EAHoC,EAGlC,EAHkC,CAAlB;AAAA,CAAZ;;AAKP;AACO,IAAMrC,WAAW,SAAXA,QAAW;AAAA,QAAQuC,KAAKC,MAAL,CAAYhD,QAAZ,EAAsBiD,IAAtB,CAA2Bf,aAA3B,CAAR;AAAA,CAAjB;;AAEP;AACO,IAAMpD,YAAY,SAAZA,SAAY;AAAA,QAAQF,KAAKsE,KAAL,CAAWhB,aAAX,CAAR;AAAA,CAAlB;;AAEP;AACO,IAAMiB,QAAQ,SAARA,KAAQ,CAAChB,KAAD,EAAQiB,KAAR,EAAeC,GAAf;AAAA,QAAuBxB,MAAMS,SAAN,CAAgBa,KAAhB,CAAsBX,IAAtB,CAA2BL,KAA3B,EAAkCiB,KAAlC,EAAyCC,GAAzC,CAAvB;AAAA,CAAd;;AAEP;AACO,IAAMlE,UAAU,SAAVA,OAAU;AAAA,QAAQgE,MAAMJ,IAAN,EAAYhE,OAAZ,GAAsB6D,MAAtB,CAC9B,UAACC,MAAD,EAASS,QAAT;AAAA,SAAsB;AAAA,UAASA,SAAST,OAAO5D,KAAP,CAAT,CAAT;AAAA,GAAtB;AAAA,EAD8B,EAE9Be,QAF8B,CAAR;AAAA,CAAhB,C;;;;;;;AC/BP,IAAMuD,kBAAkB,SAAlBA,eAAkB;AAAA,QAASC,MAAMZ,MAAN,CAAa,UAACa,QAAD,EAAWlC,IAAX,EAAoB;AACjEkC,WAASlC,KAAKrC,GAAd,IAAqBqC,KAAKxB,OAA1B;AACA,SAAO0D,QAAP;AACA,EAHgC,EAG9B,EAH8B,CAAT;AAAA,CAAxB;;AAKA,yDAAeF,eAAf,E;;;;;;;;;;;;;;;;ACLA;AACA;AACA;;;;;;;;;;;;ACFA;;AAEA;AACA;;AAEA,IAAMG,qBAAqB,SAArBA,kBAAqB,CAACrE,OAAD,EAAa;AAAA,KAC/BT,IAD+B,GACfS,OADe,CAC/BT,IAD+B;AAAA,KACzB4E,KADyB,GACfnE,OADe,CACzBmE,KADyB;;;AAGvC,QAAO,oEAAApE,CAAW;AACjBR,YADiB;AAEjBmB,WAAS,8DAAA4D,CAAgB,yEAAAJ,CAAgBC,KAAhB,CAAhB;AAFQ,EAAX,CAAP;AAIA,CAPD;;AASA,yDAAeE,kBAAf,E;;;;;;ACdA,+C","file":"super-duck.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"redux\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"redux\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"superDuck\"] = factory(require(\"redux\"));\n\telse\n\t\troot[\"superDuck\"] = factory(root[\"redux\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_6__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 80a4abde8d6650265e59","import extendDuck from './extendDuck';\nimport { last, identity, compose, splitPath } from './utils';\n\n// create composed selector from path to get values from deep nested objects\nconst createDeepSelector = (path) => {\n\tconst selectors = splitPath(path).reverse().map(key => state => state[key]);\n\treturn compose(selectors);\n};\n\nconst createDuck = (options = {}) => {\n\tconst { path } = options;\n\n\tif (!path) {\n\t\tthrow new Error('\"path\" option is required');\n\t}\n\n\tconst {\n\t\tkey = last(splitPath(path)),\n\t\trootSelector = createDeepSelector(path)\n\t} = options;\n\n\treturn extendDuck({\n\t\tpath,\n\t\tkey,\n\t\trootSelector,\n\t\ttypes: {},\n\t\tselectors: {},\n\t\tactions: {},\n\t\toperations: {},\n\t\tinitialState: undefined,\n\t\treducer: identity\n\t}, options);\n};\n\nexport default createDuck;\n\n\n\n// WEBPACK FOOTER //\n// ./createDuck.js","import { zip, has, isObject, isFunction, joinPath } from './utils';\n\n// convert 'camelCase' to 'CAMEL_CASE'\nconst camelCaseRegExp = /([a-z\\d])([A-Z]+)/g;\nconst normalizeTypeName = type =>\n\ttype.trim().replace(camelCaseRegExp, '$1_$2').toUpperCase();\n\n// normalize type and join with path\nconst buildType = (path, type) => joinPath([path, normalizeTypeName(type)]);\n\n// convert types array to name-type map\nconst buildTypesMap = (path, types) => zip(\n\ttypes,\n\ttypes.map(type => buildType(path, type))\n);\n\n// create new object with proto and additional props\nconst getExtendedObject = (proto, props) => Object.assign(Object.create(proto), props);\n\nconst requiredProps = ['path', 'key', 'rootSelector'];\n\nconst extendDuck = (parent = {}, extension = {}) => {\n\trequiredProps.forEach((prop) => {\n\t\tif (!parent[prop]) {\n\t\t\tthrow new Error(`Parent duck should have a \"${prop}\" property`);\n\t\t}\n\t});\n\n\tif (!isObject(extension)) {\n\t\tthrow new Error('Extension should be an object');\n\t}\n\n\t// create new duck and\n\t// save parent duck to access parent properties\n\tconst duck = {\n\t\tsuper: parent,\n\t\tpath: parent.path,\n\t\tkey: parent.key,\n\t\trootSelector: parent.rootSelector\n\t};\n\n\tconst getExtensionValue = (key, fallback) => {\n\t\tconst value = extension[key] || fallback;\n\t\tif (isFunction(value)) {\n\t\t\treturn value(duck, extension);\n\t\t}\n\t\treturn value;\n\t};\n\n\t// create types map with inheritance\n\t// types could be already mapped\n\tlet types = getExtensionValue('types', []);\n\tif (Array.isArray(types)) {\n\t\ttypes = buildTypesMap(parent.path, types);\n\t}\n\tduck.types = getExtendedObject(parent.types, types);\n\n\t// create actions map with inheritance\n\tconst selectors = getExtensionValue('selectors', {});\n\tduck.selectors = getExtendedObject(parent.selectors, selectors);\n\n\t// create actions map with inheritance\n\tconst actions = getExtensionValue('actions', {});\n\tduck.actions = getExtendedObject(parent.actions, actions);\n\n\t// create operations map with inheritance\n\tconst operations = getExtensionValue('operations', {});\n\tduck.operations = getExtendedObject(parent.operations, operations);\n\n\t// override initialState only if defined\n\tif (has(extension, 'initialState')) {\n\t\tduck.initialState = getExtensionValue('initialState');\n\t} else {\n\t\tduck.initialState = parent.initialState;\n\t}\n\n\t// get reducer from \"reducer\" property or create new reducer with \"createReducer\"\n\tlet reducer;\n\tif (has(extension, 'reducer')) {\n\t\treducer = extension.reducer;\n\t} else if (has(extension, 'createReducer')) {\n\t\treducer = extension.createReducer(duck, extension);\n\t} else {\n\t\treducer = parent.reducer;\n\t}\n\tduck.reducer = (state = duck.initialState, action) => reducer(state, action);\n\n\treturn duck;\n};\n\nexport default extendDuck;\n\n\n\n// WEBPACK FOOTER //\n// ./extendDuck.js","const pathDelimiter = '/';\n\n// return last item from array\nexport const last = array => array[array.length - 1];\n\n// simple identity iterator\nexport const identity = value => value;\n\n// Object.hasOwnProperty wrapper\nexport const has = (obj, key) => (obj != null && Object.prototype.hasOwnProperty.call(obj, key));\n\n// type checkers\nexport const isObject = obj => (obj !== null && typeof obj === 'object');\nexport const isFunction = func => (func !== null && typeof func === 'function');\n\n// create map from two arrays\nexport const zip = (keys, values) => values.reduce((result, value, index) => {\n\tresult[keys[index]] = value;\n\treturn result;\n}, {});\n\n// convert ['a', 'b', 'c'] to 'a/b/c'\nexport const joinPath = args => args.filter(identity).join(pathDelimiter);\n\n// convert 'a/b/c' to ['a', 'b', 'c']\nexport const splitPath = path => path.split(pathDelimiter);\n\n// Array.slice wrapper\nexport const slice = (array, begin, end) => Array.prototype.slice.call(array, begin, end);\n\n// compose functions from args to () => a(b(c()))\nexport const compose = args => slice(args).reverse().reduce(\n\t(result, selector) => state => selector(result(state)),\n\tidentity\n);\n\n\n\n// WEBPACK FOOTER //\n// ./utils.js","const getDuckReducers = ducks => ducks.reduce((reducers, duck) => {\n\treducers[duck.key] = duck.reducer;\n\treturn reducers;\n}, {});\n\nexport default getDuckReducers;\n\n\n\n// WEBPACK FOOTER //\n// ./getDuckReducers.js","export { default as createDuck } from './createDuck';\nexport { default as extendDuck } from './extendDuck';\nexport { default as createCombinedDuck } from './createCombinedDuck';\nexport { default as getDuckReducers } from './getDuckReducers';\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import { combineReducers } from 'redux';\n\nimport createDuck from './createDuck';\nimport getDuckReducers from './getDuckReducers';\n\nconst createCombinedDuck = (options) => {\n\tconst { path, ducks } = options;\n\n\treturn createDuck({\n\t\tpath,\n\t\treducer: combineReducers(getDuckReducers(ducks))\n\t});\n};\n\nexport default createCombinedDuck;\n\n\n\n// WEBPACK FOOTER //\n// ./createCombinedDuck.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 6\n// module chunks = 0 1"],"sourceRoot":""}